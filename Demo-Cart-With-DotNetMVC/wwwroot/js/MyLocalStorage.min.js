const cartId="cart";var localAdapter={saveCart:function(n){var t=JSON.stringify(n);return localStorage.setItem(cartId,t),!0},getCart:function(){return JSON.parse(localStorage.getItem(cartId))},clearCart:function(){localStorage.removeItem(cartId)}},ajaxAdapter={getCart:function(){$.ajax({type:"GET",url:"/Cart/Cart",success:function(n){helpers.addCart(n)},error:n=>{console.log(n.responseText),n.status==401&&localAdapter.getCart()&&helpers.addCart(localAdapter.getCart())}})}},helpers={cartSelector:"dropdown-cart",addCart:function(n){const t=n.map(n=>`<li>
                        <span class="item">
                            <span class="item-left">
                                <img src="/img/logo-mwg.png" style="width:50px" alt="" />
                                <span class="item-info">
                                    <span class="book-info">${n.book_name}</span>
                                    <span class="book-info">${n.price}</span>
                                </span>
                            </span>
                            <span class="item-right">
                                <button onclick="handleDelteCart(${n.book_id})" class="btn btn-danger fa fa-close delete-cart-btn" data-order-id="${n.book_id}">X</button>
                            </span>
                        </span>
                    </li>`);document.getElementById(this.cartSelector).innerHTML=t.join("")}},cart={items:[],getItems:function(){return this.items},setItems:function(n){this.items=n},addItem:function(n){this.containsItem(n.book_id)===!1&&(this.items.push({book_id:n.book_id,book_name:n.book_name,price:n.price}),localAdapter.saveCart(this.items))},deleteItem:function(n){this.items=this.items.filter(t=>t.book_id!==n);localAdapter.saveCart(this.items)},containsItem:function(n){var t,i;if(this.items===undefined)return!1;for(t=0;t<this.items.length;t++)if(i=this.items[t],n==i.book_id)return!0;return!1}};document.addEventListener("DOMContentLoaded",function(){localAdapter.getCart()&&cart.setItems(localAdapter.getCart())});